{"version":3,"sources":["../js/utils/api/api-actions.js","../js/utils/render/render-actions.js","../js/utils/events/event-actions.js","../js/app.js"],"names":["getRequest","location","callback","fetch","then","res","json","response","postRequest","requestBody","method","body","JSON","stringify","data","putRequest","deleteRequest","authors","map","author","firstName","lastName","books","book","title","description","join","on","element","action","addEventListener","run","bindHomeApiRequest","bindAddAuthorButton","getAppContext","document","querySelector","innerHTML","render","event","target","classList","contains","value"],"mappings":";AAmCe,aAnCR,SAASA,EAAWC,EAAUC,GACnCC,MAAMF,GACHG,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAG,GACJL,EAASK,KAIR,SAASC,EAAYP,EAAUQ,EAAaP,GACjDC,MAAMF,EAAU,CACdS,OAAQ,OACRC,KAAMC,KAAKC,UAAUJ,KAEpBL,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAU,GAAQZ,OAAAA,EAASY,KAGpB,SAASC,EAAWd,EAAUQ,EAAaP,GAChDC,MAAMF,EAAU,CACdS,OAAQ,MACRC,KAAMC,KAAKC,UAAUJ,KAEpBL,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAU,GAAQZ,OAAAA,EAASY,KAGpB,SAASE,EAAcf,EAAUQ,EAAaP,GACnDC,MAAMF,EAAU,CACdS,OAAQ,SACRC,KAAMC,KAAKC,UAAUJ,KAEpBL,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAU,GAAQZ,OAAAA,EAASY,KAGZ,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,YAAA,EAAA,QAAA,WAAA,EAAA,QAAA,cAAA,EAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbd,WAAAA,EACAQ,YAAAA,EACAO,WAAAA,EACAC,cAAAA,GAJa,QAAA,QAAA;;ACEA,aArCR,SAASC,EAAQA,GAAS,IAAA,EAAA,KAGzBA,MAAAA,qCAAAA,OAAAA,EAAQC,IAAI,SAAAC,GAGmBA,MAAAA,yEAAAA,OAAAA,EAAOC,UAAaD,KAAAA,OAAAA,EAAOE,SACpD,uBAAA,OAAA,EAAKC,MAAMH,EAAOG,OAHxB,iCAHN,sTAmBK,SAASA,EAAMA,GAGhBA,MAAAA,+BAAAA,OAAAA,EACCJ,IAAI,SAAAK,GAG2BA,MAAAA,sEAAAA,OAAAA,EAAKC,MACAD,oDAAAA,OAAAA,EAAKE,YAHxC,qCAODC,KAAK,IAXV,eAgBa,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAAA,QAAA,MAAA,EAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbT,QAAAA,EACAK,MAAAA,GAFa,QAAA,QAAA;;ACjCA,aAJR,SAASK,EAAGC,EAASC,EAAQ3B,GAClC0B,EAAQE,iBAAiBD,EAAQ3B,GAGpB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,GAAA,EAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbyB,GAAAA,GADa,QAAA,QAAA;;;;ACkCZ,aAtCH,IAAA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,kCACA,EAAA,EAAA,QAAA,iCAoCG,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhCH,SAASI,IACPC,IACAC,IAGF,SAASC,IACAC,OAAAA,SAASC,cAAc,QAGhC,SAASJ,IACHhC,EAAAA,QAAAA,WAAW,WAAY,SAASiB,GAClCiB,IAAgBG,UAAYC,EAAOrB,QAAAA,QAAQA,KAI/C,SAASgB,IACAN,EAAAA,QAAAA,GAAGQ,SAASxB,KAAM,QAAS,SAAA4B,GAC5BA,EAAMC,OAAOC,UAAUC,SAAS,uBAC9BlC,EAAAA,QAAAA,YACF,eACA,CACEY,UAAWe,SAASC,cAAc,2BAA2BO,MAC7DtB,SAAUc,SAASC,cAAc,0BAA0BO,OAE7D,SAAA1B,GACEiB,IAAgBG,UAAYC,EAAOrB,QAAAA,QAAQA,OA3BrD,QAAA,qBAkCAc","file":"app.3631c07c.js","sourceRoot":"../src/main/resources/static/html","sourcesContent":["export function getRequest(location, callback) {\n  fetch(location)\n    .then(res => res.json())\n    .then(response => {\n      callback(response);\n    });\n}\n\nexport function postRequest(location, requestBody, callback) {\n  fetch(location, {\n    method: \"POST\",\n    body: JSON.stringify(requestBody)\n  })\n    .then(res => res.json())\n    .then(data => callback(data));\n}\n\nexport function putRequest(location, requestBody, callback) {\n  fetch(location, {\n    method: \"PUT\",\n    body: JSON.stringify(requestBody)\n  })\n    .then(res => res.json())\n    .then(data => callback(data));\n}\n\nexport function deleteRequest(location, requestBody, callback) {\n  fetch(location, {\n    method: \"DELETE\",\n    body: JSON.stringify(requestBody)\n  })\n    .then(res => res.json())\n    .then(data => callback(data));\n}\n\nexport default {\n  getRequest,\n  postRequest,\n  putRequest,\n  deleteRequest\n};\n","export function authors(authors) {\n  return `\n    <ul class=\"authors\">\n      ${authors.map(author => {\n        return `\n          <li class=\"author\">\n            <h3 class=\"author__name\">${author.firstName} ${author.lastName}</h3>\n            ${this.books(author.books)}\n          </li>\n        `;\n      })}\n    </ul>\n    <section class=\"add-author\">\n      <input class=\"add-author__first-name\" type=\"text\" placeholder=\"Author First Name\">\n      <input class=\"add-author__last-name\" type=\"text\" placeholder=\"Author First Name\">\n      <button class=\"add-author__submit\">Add Author</button>\n    </section>\n  `;\n}\n\nexport function books(books) {\n  return `\n  <ul class=\"books\">\n    ${books\n      .map(book => {\n        return `\n          <li class=\"book\">\n            <h5 class=\"book__title\">${book.title}</h5>\n            <p class=\"book__description\">${book.description}</p>\n          </li>\n        `;\n      })\n      .join(\"\")}\n  </ul>\n`;\n}\n\nexport default {\n  authors,\n  books\n};\n","export function on(element, action, callback) {\n  element.addEventListener(action, callback);\n}\n\nexport default {\n  on\n};\n","import api from \"./utils/api/api-actions\";\nimport render from \"./utils/render/render-actions\";\nimport events from \"./utils/events/event-actions\";\n\nimport \"../css/global.css\";\n\nfunction run() {\n  bindHomeApiRequest();\n  bindAddAuthorButton();\n}\n\nfunction getAppContext() {\n  return document.querySelector(\"#app\");\n}\n\nfunction bindHomeApiRequest() {\n  api.getRequest(\"/authors\", function(authors) {\n    getAppContext().innerHTML = render.authors(authors);\n  });\n}\n\nfunction bindAddAuthorButton() {\n  events.on(document.body, \"click\", event => {\n    if (event.target.classList.contains(\"add-author__submit\")) {\n      api.postRequest(\n        \"/authors/add\",\n        {\n          firstName: document.querySelector(\".add-author__first-name\").value,\n          lastName: document.querySelector(\".add-author__last-name\").value\n        },\n        authors => {\n          getAppContext().innerHTML = render.authors(authors);\n        }\n      );\n    }\n  });\n}\n\nrun();\n"]}